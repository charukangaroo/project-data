<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <title>Pedestrian foot traffic at intersections</title>
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.42.1/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v0.42.1/mapbox-gl.css' rel='stylesheet' />
  <link href='https://www.mapbox.com/base/latest/base.css' rel='stylesheet' />
  <style>
  #map {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
  }
  
  #locations {
    position: absolute;
  }
  </style>
</head>

<body>
  <div id='map'></div>
  <script>
  //Put your Mapbox Public Access token here
  mapboxgl.accessToken = 'pk.eyJ1IjoiZXhhbXBsZXMiLCJhIjoiY2lqbmpqazdlMDBsdnRva284cWd3bm11byJ9.V6Hg2oYJwMAxeoR9GEzkAA';

  //Load a new map in the 'map' HTML div
  var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/dark-v9',
    center: [-79.3832, 43.6512],
    zoom: 13
  });

  //Load the vector tile source from our Mapbox Pedestrian traffic example
  map.on('load', function() {
    //Add the circle layer to the map
    map.addLayer({
      id: 'pedestrian_volume',
      type: 'circle',
      source: {
          type: 'vector',
          url: 'mapbox://charukukreja.cjc0v17t402g32qo48svibhja-2z6ev' //Your Mapbox tileset Map ID
      },
      //name of tilesets
      'source-layer': 'peddata',
      paint: {
        'circle-color': '#D49A66',
        //Add data-driven styles for circle radius
        'circle-radius': {
          property: '8Hr Pedestrian Volume',
          type: 'exponential',
          stops: [
            [124, 2],
            [34615, 10]
          ]
        },
        'circle-opacity': 0.8
      }
    });
  });
  </script>
</body>

</html>
